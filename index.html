
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ˜Š</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'brand-yellow': '#fecc00',
            'brand-blue': '#015194',
          }
        }
      }
    }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Public Sans', sans-serif; 
            background-color: white;
            color: black;
            transition: background-color 0.3s ease, color 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .input-border {
            border: 2px solid black;
            border-radius: 1.5rem; /* rounded-3xl */
        }
        .confirmed-entity { 
            background-color: white;
            color: black;
            border: 2px solid black;
            border-radius: 1.5rem; /* 75% circular */
            padding: 0.1rem 0.25rem;
            cursor: pointer;
        }
        .confirmed-entity-title {
            background-color: white;
            color: #16a34a; /* green-600 */
            border: 2px solid #16a34a; /* green-600 */
            border-radius: 1.5rem;
            padding: 0.1rem 0.25rem;
            cursor: pointer;
        }
        .confirmed-entity:hover { 
            background-color: #f3f4f6; /* gray-100 */
        }
        .confirmed-entity-title:hover {
            background-color: #f0fdf4; /* green-50 */
        }
        ::placeholder {
            color: #a9a9a9;
            opacity: 1;
        }
        .profile-badge {
            background-color: white;
            color: black;
            border-radius: 9999px; /* rounded-full */
            padding: 0.1rem 0.5rem;
            display: inline-flex; /* To allow padding and center content */
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }
        button.border-2,
        .input-border,
        .confirmed-entity,
        .confirmed-entity-title {
            transition: border-width 0.1s ease-in-out, background-color 0.3s ease;
        }
        button.border-2:hover, button.border-2:active {
            border-width: 3px;
        }
        .input-border:hover, .input-border:focus {
            border-width: 3px;
        }
        .confirmed-entity:hover,
        .confirmed-entity-title:hover {
            border-width: 3px;
        }
    </style>
    <!-- Dependencies for React, ReactDOM, and Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel" data-presets="react,typescript">
        const {
            useState,
            useEffect,
            useCallback,
            useContext,
            createContext,
            useMemo,
            useRef,
        } = React;

        // --- from types.ts ---
        // All types are defined here for global scope within the script
        
        // --- from constants.ts ---
        const PROFILES = ['â—(áµ”áµ•áµ”)â—œ', 'âŠ‚(âŒ’â€¿âŒ’)ã¤', '(^o^)ã£', '(ï¾‰^_^)ï¾‰', '( T_T)ï¼¼(^-^ )'];

        const REACTION_DEFINITIONS = [
          { type: 'à´¦àµà´¦à´¿', nameKey: 'like' },
          { type: 'â™¡', nameKey: 'love' },
          { type: '(Tâ–½T)', nameKey: 'laugh' },
          { type: '(â€¢oâ€¢)', nameKey: 'wow' },
          { type: '(â•¥ï¹â•¥)', nameKey: 'sad' },
          { type: '( â€¢Ì€ - â€¢Ì )', nameKey: 'angry' },
        ];

        const REACTIONS = REACTION_DEFINITIONS.map(r => r.type);

        const KNOWN_ENTITIES = [
          { name: 'React', variants: ['reactjs', 'React.js'], source: 'https://en.wikipedia.org/wiki/React_(JavaScript_library)' },
          { name: 'JavaScript', variants: ['js', 'ecmascript'], source: 'https://en.wikipedia.org/wiki/JavaScript' },
          { name: 'Elon Musk', variants: ['musk', 'elon'], source: 'https://en.wikipedia.org/wiki/Elon_Musk' },
          { name: 'Marie Curie', variants: ['curie', 'Maria SkÅ‚odowska'], source: 'https://en.wikipedia.org/wiki/Marie_Curie' },
          { name: 'Artificial Intelligence', variants: ['ai', 'strong ai'], source: 'https://en.wikipedia.org/wiki/Artificial_intelligence' },
          { name: 'OpenAI', variants: ['Open AI'], source: 'https://en.wikipedia.org/wiki/OpenAI' },
          { name: 'Sam Altman', variants: ['altman'], source: 'https://en.wikipedia.org/wiki/Sam_Altman' },
          { name: 'Paris', variants: ['The City of Light'], source: 'https://en.wikipedia.org/wiki/Paris' },
          { name: 'Existentialism', variants: ['Sartre', 'de Beauvoir', 'Camus'], source: 'https://en.wikipedia.org/wiki/Existentialism' },
          { name: 'Real Madrid', variants: ['real madrid cf', 'real madrid'], source: 'https://en.wikipedia.org/wiki/Real_Madrid_CF' },
          { name: 'FC Barcelona', variants: ['barcelona', 'barca', 'fc barcelona'], source: 'https://en.wikipedia.org/wiki/FC_Barcelona' },
        ];

        const translations = {
          en: { createPostTitle: 'Create a new post', postTitlePlaceholder: 'Enter post title...', postContentPlaceholder: 'What are your thoughts?', postAs: 'Post as:', submitPost: 'Post', editPost: 'Save Changes', cancel: 'Cancel', edit: 'Edit', delete: 'Delete', report: 'Report', comment: 'Comment', addComment: 'Add a comment...', reactions: 'Reactions', reactWith: 'React with', reactionNames: { like: 'Like', love: 'Love', laugh: 'Laugh', wow: 'Wow', sad: 'Sad', angry: 'Angry', }, comments: 'Comments', reportModalTitle: 'Report Content', reportModalMessage: 'As a member of this ephemeral community, you have the ability to moderate content. You can edit this to improve it, or delete it permanently.', reportEdit: 'Edit Content', reportDelete: 'Delete Content', reportExit: 'Do Nothing', termsOfUse: 'Terms of Use', privacyPolicy: 'Privacy Policy', footerText: 'Â© 2024 âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. All content is temporary and client-side.', entityDetection_suggestions_title: 'Detected Entities', entityDetection_unconfirm: 'Click to remove this entity.', entityDetection_view_source: 'View on Wikipedia', referenceNoticeShort: 'Content is provided by a third party and is not vetted or endorsed by this platform.', termsContentTitle: 'Terms of Use', termsContent: `<p>Welcome to âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. By using this website, you agree to the following terms:</p><ul><li><strong>No Personal Data:</strong> We do not ask for, store, or process any personal data.</li><li><strong>No User Accounts:</strong> There are no user accounts, logins, or profiles tied to real-world identities.</li><li><strong>Temporary Content:</strong> All posts, comments, and reactions are stored only in your browser's memory and are permanently deleted when you refresh or close the page.</li><li><strong>Self-Moderation:</strong> All users have the ability to edit or delete any content on the site.</li></ul>`, privacyContentTitle: 'Privacy Policy', privacyContent: `<p>This Privacy Policy outlines how âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ handles information.</p><ul><li><strong>Data Collection:</strong> We collect no data. None.</li><li><strong>Data Storage:</strong> All content you see is generated and stored temporarily in your browser's active session. It is not sent to any server and is lost upon page refresh.</li><li><strong>Your Privacy:</strong> Your use of this site is completely anonymous and ephemeral by design.</li></ul>`, legalNotice: 'This is a demonstration and not a real, legally-binding document.', },
          es: { createPostTitle: 'Crear una nueva publicaciÃ³n', postTitlePlaceholder: 'Escriba el tÃ­tulo...', postContentPlaceholder: 'Â¿QuÃ© estÃ¡s pensando?', postAs: 'Publicar como:', submitPost: 'Publicar', editPost: 'Guardar Cambios', cancel: 'Cancelar', edit: 'Editar', delete: 'Eliminar', report: 'Reportar', comment: 'Comentar', addComment: 'AÃ±adir un comentario...', reactions: 'Reacciones', reactWith: 'Reaccionar con', reactionNames: { like: 'Me gusta', love: 'Me encanta', laugh: 'Me divierte', wow: 'Me asombra', sad: 'Me entristece', angry: 'Me enoja', }, comments: 'Comentarios', reportModalTitle: 'Reportar Contenido', reportModalMessage: 'Como miembro de esta comunidad efÃ­mera, tienes la capacidad de moderar el contenido. Puedes editarlo para mejorarlo o eliminarlo permanentemente.', reportEdit: 'Editar Contenido', reportDelete: 'Eliminar Contenido', reportExit: 'No Hacer Nada', termsOfUse: 'TÃ©rminos de Uso', privacyPolicy: 'PolÃ­tica de Privacidad', footerText: 'Â© 2024 âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. Todo el contenido es temporal y del lado del cliente.', entityDetection_suggestions_title: 'Entidades Detectadas', entityDetection_unconfirm: 'Haga clic para eliminar esta entidad.', entityDetection_view_source: 'Ver en Wikipedia', referenceNoticeShort: 'El contenido es proporcionado por un tercero y no es investigado ni respaldado por esta plataforma.', termsContentTitle: 'TÃ©rminos de Uso', termsContent: `<p>Bienvenido a âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. Al usar este sitio, usted acepta los siguientes tÃ©rminos:</p><ul><li><strong>Sin Datos Personales:</strong> No pedimos, guardamos ni procesamos datos personales.</li><li><strong>Sin Cuentas de Usuario:</strong> No hay cuentas de usuario ni perfiles ligados a identidades reales.</li><li><strong>Contenido Temporal:</strong> Todo el contenido se almacena solo en la memoria de su navegador y se elimina al recargar la pÃ¡gina.</li><li><strong>Auto-ModeraciÃ³n:</strong> Todos los usuarios pueden editar o eliminar cualquier contenido.</li></ul>`, privacyContentTitle: 'PolÃ­tica de Privacidad', privacyContent: `<p>Esta PolÃ­tica de Privacidad describe cÃ³mo se maneja la informaciÃ³n.</p><ul><li><strong>RecopilaciÃ³n de Datos:</strong> No recopilamos ningÃºn dato.</li><li><strong>Almacenamiento de Datos:</strong> Todo el contenido existe solo en la sesiÃ³n activa de su navegador y se pierde al recargar.</li><li><strong>Su Privacidad:</strong> El uso de este sitio es anÃ³nimo y efÃ­mero por diseÃ±o.</li></ul>`, legalNotice: 'Esta es una demostraciÃ³n y no un documento legal real.', },
          ja: { createPostTitle: 'æ–°è¦æŠ•ç¨¿ã‚’ä½œæˆ', postTitlePlaceholder: 'æŠ•ç¨¿ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›...', postContentPlaceholder: 'ä½•ã‚’è€ƒãˆã¦ã„ã¾ã™ã‹ï¼Ÿ', postAs: 'æŠ•ç¨¿è€…:', submitPost: 'æŠ•ç¨¿', editPost: 'å¤‰æ›´ã‚’ä¿å­˜', cancel: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«', edit: 'ç·¨é›†', delete: 'å‰Šé™¤', report: 'å ±å‘Š', comment: 'ã‚³ãƒ¡ãƒ³ãƒˆ', addComment: 'ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ...', reactions: 'ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³', reactWith: 'ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã™ã‚‹', reactionNames: { like: 'ã„ã„ã­', love: 'å¤§å¥½ã', laugh: 'ç¬‘', wow: 'ã™ã”ã„', sad: 'æ‚²ã—ã„', angry: 'æ€’ã‚Š' }, comments: 'ã‚³ãƒ¡ãƒ³ãƒˆ', reportModalTitle: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å ±å‘Š', reportModalMessage: 'ã“ã®ä¸€æ™‚çš„ãªã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ãƒ¡ãƒ³ãƒãƒ¼ã¨ã—ã¦ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ãƒ¢ãƒ‡ãƒ¬ãƒ¼ãƒˆã™ã‚‹æ¨©é™ãŒã‚ã‚Šã¾ã™ã€‚æ”¹å–„ã®ãŸã‚ã«ç·¨é›†ã™ã‚‹ã‹ã€æ°¸ä¹…ã«å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚', reportEdit: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç·¨é›†', reportDelete: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å‰Šé™¤', reportExit: 'ä½•ã‚‚ã—ãªã„', termsOfUse: 'åˆ©ç”¨è¦ç´„', privacyPolicy: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼', footerText: 'Â© 2024 âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ä¸€æ™‚çš„ã§ã‚ã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰ã§ã™ã€‚', entityDetection_suggestions_title: 'æ¤œå‡ºã•ã‚ŒãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£', entityDetection_unconfirm: 'ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã“ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’å‰Šé™¤ã—ã¾ã™ã€‚', entityDetection_view_source: 'Wikipediaã§è¡¨ç¤º', referenceNoticeShort: 'ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ç¬¬ä¸‰è€…ã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã¦ãŠã‚Šã€ã“ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ã‚ˆã£ã¦ç²¾æŸ»ã¾ãŸã¯æ‰¿èªã•ã‚ŒãŸã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚', termsContentTitle: 'åˆ©ç”¨è¦ç´„', termsContent: `<p>âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒã¸ã‚ˆã†ã“ãã€‚ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®æ¡ä»¶ã«åŒæ„ã—ãŸã“ã¨ã«ãªã‚Šã¾ã™ï¼š</p><ul><li><strong>å€‹äººãƒ‡ãƒ¼ã‚¿ãªã—ï¼š</strong>å½“ã‚µã‚¤ãƒˆã¯å€‹äººãƒ‡ãƒ¼ã‚¿ã‚’è¦æ±‚ã€ä¿å­˜ã€å‡¦ç†ã—ã¾ã›ã‚“ã€‚</li><li><strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãªã—ï¼š</strong>å®Ÿä¸–ç•Œã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«çµã³ã¤ã„ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</li><li><strong>ä¸€æ™‚çš„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼š</strong>ã™ã¹ã¦ã®æŠ•ç¨¿ã€ã‚³ãƒ¡ãƒ³ãƒˆã€ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ¡ãƒ¢ãƒªã«ã®ã¿ä¿å­˜ã•ã‚Œã€ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã¾ãŸã¯é–‰ã˜ã‚‹ã¨æ°¸ä¹…ã«å‰Šé™¤ã•ã‚Œã¾ã™ã€‚</li><li><strong>è‡ªå·±ãƒ¢ãƒ‡ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼š</strong>ã™ã¹ã¦ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚µã‚¤ãƒˆä¸Šã®ä»»æ„ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç·¨é›†ã¾ãŸã¯å‰Šé™¤ã™ã‚‹æ¨©é™ã‚’æŒã£ã¦ã„ã¾ã™ã€‚</li></ul>`, privacyContentTitle: 'ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼', privacyContent: `<p>ã“ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ã€âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒãŒæƒ…å ±ã‚’ã©ã®ã‚ˆã†ã«æ‰±ã†ã‹ã‚’æ¦‚èª¬ã—ã¾ã™ã€‚</p><ul><li><strong>ãƒ‡ãƒ¼ã‚¿åé›†ï¼š</strong>ãƒ‡ãƒ¼ã‚¿ã¯ä¸€åˆ‡åé›†ã—ã¾ã›ã‚“ã€‚</li><li><strong>ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼š</strong>è¡¨ç¤ºã•ã‚Œã‚‹ã™ã¹ã¦ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ä¸€æ™‚çš„ã«ç”ŸæˆãŠã‚ˆã³ä¿å­˜ã•ã‚Œã¾ã™ã€‚ã‚µãƒ¼ãƒãƒ¼ã«ã¯é€ä¿¡ã•ã‚Œãšã€ãƒšãƒ¼ã‚¸ã‚’æ›´æ–°ã™ã‚‹ã¨å¤±ã‚ã‚Œã¾ã™ã€‚</li><li><strong>ã‚ãªãŸã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ï¼š</strong>ã“ã®ã‚µã‚¤ãƒˆã®åˆ©ç”¨ã¯ã€è¨­è¨ˆä¸Šå®Œå…¨ã«åŒ¿åã§ä¸€æ™‚çš„ãªã‚‚ã®ã§ã™ã€‚</li></ul>`, legalNotice: 'ã“ã‚Œã¯ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€å®Ÿéš›ã®æ³•çš„æ‹˜æŸåŠ›ã®ã‚ã‚‹æ–‡æ›¸ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚', },
          zh: { createPostTitle: 'åˆ›å»ºæ–°å¸–å­', postTitlePlaceholder: 'è¾“å…¥å¸–å­æ ‡é¢˜...', postContentPlaceholder: 'ä½ åœ¨æƒ³ä»€ä¹ˆï¼Ÿ', postAs: 'å‘å¸ƒèº«ä»½:', submitPost: 'å‘å¸ƒ', editPost: 'ä¿å­˜æ›´æ”¹', cancel: 'å–æ¶ˆ', edit: 'ç¼–è¾‘', delete: 'åˆ é™¤', report: 'ä¸¾æŠ¥', comment: 'è¯„è®º', addComment: 'æ·»åŠ è¯„è®º...', reactions: 'ååº”', reactWith: 'ä½œå‡ºååº”', reactionNames: { like: 'èµ', love: 'çˆ±å¿ƒ', laugh: 'ç¬‘', wow: 'å“‡', sad: 'ä¼¤å¿ƒ', angry: 'æ„¤æ€’' }, comments: 'è¯„è®º', reportModalTitle: 'ä¸¾æŠ¥å†…å®¹', reportModalMessage: 'ä½œä¸ºè¿™ä¸ªä¸´æ—¶ç¤¾åŒºçš„æˆå‘˜ï¼Œæ‚¨æœ‰æƒå®¡æ ¸å†…å®¹ã€‚æ‚¨å¯ä»¥ç¼–è¾‘å®ƒä»¥è¿›è¡Œæ”¹è¿›ï¼Œæˆ–æ°¸ä¹…åˆ é™¤å®ƒã€‚', reportEdit: 'ç¼–è¾‘å†…å®¹', reportDelete: 'åˆ é™¤å†…å®¹', reportExit: 'ä¸æ‰§è¡Œä»»ä½•æ“ä½œ', termsOfUse: 'ä½¿ç”¨æ¡æ¬¾', privacyPolicy: 'éšç§æ”¿ç­–', footerText: 'Â© 2024 âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. æ‰€æœ‰å†…å®¹éƒ½æ˜¯ä¸´æ—¶çš„ï¼Œå¹¶ä¸”åœ¨å®¢æˆ·ç«¯ã€‚', entityDetection_suggestions_title: 'æ£€æµ‹åˆ°çš„å®ä½“', entityDetection_unconfirm: 'ç‚¹å‡»ä»¥åˆ é™¤æ­¤å®ä½“ã€‚', entityDetection_view_source: 'åœ¨ç»´åŸºç™¾ç§‘ä¸ŠæŸ¥çœ‹', referenceNoticeShort: 'å†…å®¹ç”±ç¬¬ä¸‰æ–¹æä¾›ï¼Œæœªç»æœ¬å¹³å°å®¡æŸ¥æˆ–è®¤å¯ã€‚', termsContentTitle: 'ä½¿ç”¨æ¡æ¬¾', termsContent: `<p>æ¬¢è¿æ¥åˆ° âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒã€‚ä½¿ç”¨æœ¬ç½‘ç«™å³è¡¨ç¤ºæ‚¨åŒæ„ä»¥ä¸‹æ¡æ¬¾ï¼š</p><ul><li><strong>æ— ä¸ªäººæ•°æ®ï¼š</strong>æˆ‘ä»¬ä¸è¦æ±‚ã€å­˜å‚¨æˆ–å¤„ç†ä»»ä½•ä¸ªäººæ•°æ®ã€‚</li><li><strong>æ— ç”¨æˆ·å¸æˆ·ï¼š</strong>æ²¡æœ‰ä¸ç°å®ä¸–ç•Œèº«ä»½ç›¸å…³è”çš„ç”¨æˆ·å¸æˆ·ã€ç™»å½•æˆ–ä¸ªäººèµ„æ–™ã€‚</li><li><strong>ä¸´æ—¶å†…å®¹ï¼š</strong>æ‰€æœ‰å¸–å­ã€è¯„è®ºå’Œååº”ä»…å­˜å‚¨åœ¨æ‚¨çš„æµè§ˆå™¨å†…å­˜ä¸­ï¼Œåˆ·æ–°æˆ–å…³é—­é¡µé¢åå°†æ°¸ä¹…åˆ é™¤ã€‚</li><li><strong>è‡ªæˆ‘å®¡æ ¸ï¼š</strong>æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰èƒ½åŠ›ç¼–è¾‘æˆ–åˆ é™¤ç½‘ç«™ä¸Šçš„ä»»ä½•å†…å®¹ã€‚</li></ul>`, privacyContentTitle: 'éšç§æ”¿ç­–', privacyContent: `<p>æœ¬éšç§æ”¿ç­–æ¦‚è¿°äº† âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ å¦‚ä½•å¤„ç†ä¿¡æ¯ã€‚</p><ul><li><strong>æ•°æ®æ”¶é›†ï¼š</strong>æˆ‘ä»¬ä¸æ”¶é›†ä»»ä½•æ•°æ®ã€‚</li><li><strong>æ•°æ®å­˜å‚¨ï¼š</strong>æ‚¨çœ‹åˆ°çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯åœ¨æµè§ˆå™¨çš„æ´»åŠ¨ä¼šè¯ä¸­ä¸´æ—¶ç”Ÿæˆå’Œå­˜å‚¨çš„ã€‚å®ƒä¸ä¼šå‘é€åˆ°ä»»ä½•æœåŠ¡å™¨ï¼Œå¹¶ä¸”åœ¨é¡µé¢åˆ·æ–°æ—¶ä¼šä¸¢å¤±ã€‚</li><li><strong>æ‚¨çš„éšç§ï¼š</strong>æ ¹æ®è®¾è®¡ï¼Œæ‚¨å¯¹æœ¬ç½‘ç«™çš„ä½¿ç”¨æ˜¯å®Œå…¨åŒ¿åå’Œä¸´æ—¶çš„ã€‚</li></ul>`, legalNotice: 'è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºï¼Œä¸æ˜¯å…·æœ‰æ³•å¾‹çº¦æŸåŠ›çš„çœŸå®æ–‡ä»¶ã€‚', },
          ko: { createPostTitle: 'ìƒˆ ê²Œì‹œë¬¼ ì‘ì„±', postTitlePlaceholder: 'ê²Œì‹œë¬¼ ì œëª© ì…ë ¥...', postContentPlaceholder: 'ë¬´ìŠ¨ ìƒê°ì„ í•˜ê³  ê³„ì‹ ê°€ìš”?', postAs: 'ì‘ì„±ì:', submitPost: 'ê²Œì‹œ', editPost: 'ë³€ê²½ ì‚¬í•­ ì €ì¥', cancel: 'ì·¨ì†Œ', edit: 'í¸ì§‘', delete: 'ì‚­ì œ', report: 'ì‹ ê³ ', comment: 'ëŒ“ê¸€', addComment: 'ëŒ“ê¸€ ì¶”ê°€...', reactions: 'ë°˜ì‘', reactWith: 'ë°˜ì‘í•˜ê¸°', reactionNames: { like: 'ì¢‹ì•„ìš”', love: 'ì‚¬ë‘í•´ìš”', laugh: 'ì›ƒê²¨ìš”', wow: 'ë†€ë¼ì›Œìš”', sad: 'ìŠ¬í¼ìš”', angry: 'í™”ë‚˜ìš”' }, comments: 'ëŒ“ê¸€', reportModalTitle: 'ì½˜í…ì¸  ì‹ ê³ ', reportModalMessage: 'ì´ ì„ì‹œ ì»¤ë®¤ë‹ˆí‹°ì˜ íšŒì›ìœ¼ë¡œì„œ ê·€í•˜ëŠ” ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê°œì„ ì„ ìœ„í•´ í¸ì§‘í•˜ê±°ë‚˜ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', reportEdit: 'ì½˜í…ì¸  í¸ì§‘', reportDelete: 'ì½˜í…ì¸  ì‚­ì œ', reportExit: 'ì•„ë¬´ê²ƒë„ ì•ˆ í•¨', termsOfUse: 'ì´ìš©ì•½ê´€', privacyPolicy: 'ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨', footerText: 'Â© 2024 âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. ëª¨ë“  ì½˜í…ì¸ ëŠ” ì¼ì‹œì ì´ë©° í´ë¼ì´ì–¸íŠ¸ ì¸¡ì— ìˆìŠµë‹ˆë‹¤.', entityDetection_suggestions_title: 'ê°ì§€ëœ ê°œì²´', entityDetection_unconfirm: 'ì´ ê°œì²´ë¥¼ ì œê±°í•˜ë ¤ë©´ í´ë¦­í•˜ì‹­ì‹œì˜¤.', entityDetection_view_source: 'ìœ„í‚¤ë°±ê³¼ì—ì„œ ë³´ê¸°', referenceNoticeShort: 'ì½˜í…ì¸ ëŠ” ì œ3ìê°€ ì œê³µí•˜ë©° ì´ í”Œë«í¼ì—ì„œ ì‹¬ì‚¬í•˜ê±°ë‚˜ ë³´ì¦í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.', termsContentTitle: 'ì´ìš©ì•½ê´€', termsContent: `<p>âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤. ì´ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ê·€í•˜ëŠ” ë‹¤ìŒ ì•½ê´€ì— ë™ì˜í•˜ê²Œ ë©ë‹ˆë‹¤:</p><ul><li><strong>ê°œì¸ ë°ì´í„° ì—†ìŒ:</strong> ì €í¬ëŠ” ê°œì¸ ë°ì´í„°ë¥¼ ìš”ì²­, ì €ì¥ ë˜ëŠ” ì²˜ë¦¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li><li><strong>ì‚¬ìš©ì ê³„ì • ì—†ìŒ:</strong> ì‹¤ì œ ì‹ ì›ê³¼ ì—°ê²°ëœ ì‚¬ìš©ì ê³„ì •, ë¡œê·¸ì¸ ë˜ëŠ” í”„ë¡œí•„ì´ ì—†ìŠµë‹ˆë‹¤.</li><li><strong>ì„ì‹œ ì½˜í…ì¸ :</strong> ëª¨ë“  ê²Œì‹œë¬¼, ëŒ“ê¸€ ë° ë°˜ì‘ì€ ë¸Œë¼ìš°ì €ì˜ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ë˜ë©° í˜ì´ì§€ë¥¼ ìƒˆë¡œ ê³ ì¹˜ê±°ë‚˜ ë‹«ìœ¼ë©´ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤.</li><li><strong>ìì²´ ê´€ë¦¬:</strong> ëª¨ë“  ì‚¬ìš©ìëŠ” ì‚¬ì´íŠ¸ì˜ ëª¨ë“  ì½˜í…ì¸ ë¥¼ í¸ì§‘í•˜ê±°ë‚˜ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li></ul>`, privacyContentTitle: 'ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨', privacyContent: `<p>ì´ ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ì€ âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒì´ ì •ë³´ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.</p><ul><li><strong>ë°ì´í„° ìˆ˜ì§‘:</strong> ì €í¬ëŠ” ì–´ë– í•œ ë°ì´í„°ë„ ìˆ˜ì§‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li><li><strong>ë°ì´í„° ì €ì¥:</strong> ê·€í•˜ê°€ ë³´ëŠ” ëª¨ë“  ì½˜í…ì¸ ëŠ” ë¸Œë¼ìš°ì €ì˜ í™œì„± ì„¸ì…˜ì—ì„œ ì¼ì‹œì ìœ¼ë¡œ ìƒì„± ë° ì €ì¥ë©ë‹ˆë‹¤. ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•Šìœ¼ë©° í˜ì´ì§€ ìƒˆë¡œ ê³ ì¹¨ ì‹œ ì†ì‹¤ë©ë‹ˆë‹¤.</li><li><strong>ê·€í•˜ì˜ ê°œì¸ ì •ë³´:</strong> ì´ ì‚¬ì´íŠ¸ì˜ ì‚¬ìš©ì€ ì„¤ê³„ìƒ ì™„ì „íˆ ìµëª…ì´ë©° ì¼ì‹œì ì…ë‹ˆë‹¤ã€‚</li></ul>`, legalNotice: 'ì´ê²ƒì€ ì‹œì—°ì´ë©° ì‹¤ì œ ë²•ì  êµ¬ì†ë ¥ì´ ìˆëŠ” ë¬¸ì„œê°€ ì•„ë‹™ë‹ˆë‹¤.', },
          ru: { createPostTitle: 'Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾ÑÑ‚', postTitlePlaceholder: 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº Ğ¿Ğ¾ÑÑ‚Ğ°...', postContentPlaceholder: 'Ğ Ñ‡ĞµĞ¼ Ğ²Ñ‹ Ğ´ÑƒĞ¼Ğ°ĞµÑ‚Ğµ?', postAs: 'ĞĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ°Ğº:', submitPost: 'ĞĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ', editPost: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ', cancel: 'ĞÑ‚Ğ¼ĞµĞ½Ğ°', edit: 'Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ', delete: 'Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ', report: 'ĞŸĞ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ', comment: 'ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹', addComment: 'Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹...', reactions: 'Ğ ĞµĞ°ĞºÑ†Ğ¸Ğ¸', reactWith: 'ĞÑ‚Ñ€ĞµĞ°Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ', reactionNames: { like: 'ĞÑ€Ğ°Ğ²Ğ¸Ñ‚ÑÑ', love: 'ĞĞ±Ğ¾Ğ¶Ğ°Ñ', laugh: 'Ğ¡Ğ¼ĞµÑˆĞ½Ğ¾', wow: 'Ğ£Ñ… Ñ‚Ñ‹!', sad: 'Ğ“Ñ€ÑƒÑÑ‚Ğ½Ğ¾', angry: 'Ğ—Ğ»ÑÑÑŒ' }, comments: 'ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸', reportModalTitle: 'ĞŸĞ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ Ğ½Ğ° ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚', reportModalMessage: 'ĞšĞ°Ğº Ñ‡Ğ»ĞµĞ½ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ°, Ğ²Ñ‹ Ğ¸Ğ¼ĞµĞµÑ‚Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚. Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¾Ñ‚Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞµĞ³Ğ¾ Ğ´Ğ»Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ Ğ¸Ğ»Ğ¸ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ²ÑĞµĞ³Ğ´Ğ°.', reportEdit: 'Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚', reportDelete: 'Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚', reportExit: 'ĞĞ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ´ĞµĞ»Ğ°Ñ‚ÑŒ', termsOfUse: 'Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ', privacyPolicy: 'ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸', footerText: 'Â© 2024 âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. Ğ’ĞµÑÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ¸ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑÑ Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.', entityDetection_suggestions_title: 'ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ½Ñ‹Ğµ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸', entityDetection_unconfirm: 'ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‚Ñƒ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ÑŒ.', entityDetection_view_source: 'ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ² Ğ’Ğ¸ĞºĞ¸Ğ¿ĞµĞ´Ğ¸Ğ¸', referenceNoticeShort: 'ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ñ‚Ñ€ĞµÑ‚ÑŒĞµĞ¹ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ¾Ğ¹ Ğ¸ Ğ½Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ÑÑ Ğ¸ Ğ½Ğµ Ğ¾Ğ´Ğ¾Ğ±Ñ€ÑĞµÑ‚ÑÑ ÑÑ‚Ğ¾Ğ¹ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ¾Ğ¹.', termsContentTitle: 'Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ', termsContent: `<p>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ ÑÑ‚Ğ¾Ñ‚ Ğ²ĞµĞ±-ÑĞ°Ğ¹Ñ‚, Ğ²Ñ‹ ÑĞ¾Ğ³Ğ»Ğ°ÑˆĞ°ĞµÑ‚ĞµÑÑŒ ÑĞ¾ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¼Ğ¸ ÑƒÑĞ»Ğ¾Ğ²Ğ¸ÑĞ¼Ğ¸:</p><ul><li><strong>ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:</strong> ĞœÑ‹ Ğ½Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµĞ¼, Ğ½Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ¼ Ğ¸ Ğ½Ğµ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ñ… Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ….</li><li><strong>ĞĞ¸ĞºĞ°ĞºĞ¸Ñ… ÑƒÑ‡ĞµÑ‚Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹:</strong> ĞĞµÑ‚ ÑƒÑ‡ĞµÑ‚Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, Ğ»Ğ¾Ğ³Ğ¸Ğ½Ğ¾Ğ² Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ĞµĞ¹, ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ğ»Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸.</li><li><strong>Ğ’Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚:</strong> Ğ’ÑĞµ Ğ¿Ğ¾ÑÑ‚Ñ‹, ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğ¸ Ñ€ĞµĞ°ĞºÑ†Ğ¸Ğ¸ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° Ğ¸ Ğ½Ğ°Ğ²ÑĞµĞ³Ğ´Ğ° ÑƒĞ´Ğ°Ğ»ÑÑÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ Ğ¸Ğ»Ğ¸ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹.</li><li><strong>Ğ¡Ğ°Ğ¼Ğ¾Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ:</strong> Ğ’ÑĞµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ¸Ğ¼ĞµÑÑ‚ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ğ»Ğ¸ ÑƒĞ´Ğ°Ğ»ÑÑ‚ÑŒ Ğ»ÑĞ±Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ½Ğ° ÑĞ°Ğ¹Ñ‚Ğµ.</li></ul>`, privacyContentTitle: 'ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸', privacyContent: `<p>Ğ­Ñ‚Ğ° ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¾Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚, ĞºĞ°Ğº âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ.</p><ul><li><strong>Ğ¡Ğ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:</strong> ĞœÑ‹ Ğ½Ğµ ÑĞ¾Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ Ğ½Ğ¸ĞºĞ°ĞºĞ¸Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. Ğ¡Ğ¾Ğ²ÑĞµĞ¼.</li><li><strong>Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:</strong> Ğ’ĞµÑÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ²Ñ‹ Ğ²Ğ¸Ğ´Ğ¸Ñ‚Ğµ, Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¸ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑÑ Ğ² Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ ÑĞµÑÑĞ¸Ğ¸ Ğ²Ğ°ÑˆĞµĞ³Ğ¾ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ°. ĞĞ½ Ğ½Ğµ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ½Ğ¸ Ğ½Ğ° ĞºĞ°ĞºĞ¾Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€ Ğ¸ Ñ‚ĞµÑ€ÑĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹.</li><li><strong>Ğ’Ğ°ÑˆĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:</strong> Ğ’Ğ°ÑˆĞµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ°Ğ¹Ñ‚Ğ° ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ°Ğ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ñ‹Ğ¼ Ğ¸ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ¿Ğ¾ ÑĞ²Ğ¾ĞµĞ¹ ÑÑƒÑ‚Ğ¸.</li></ul>`, legalNotice: 'Ğ­Ñ‚Ğ¾ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ, Ğ° Ğ½Ğµ Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰Ğ¸Ğ¹, ÑÑ€Ğ¸Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ğ±ÑĞ·Ñ‹Ğ²Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚.', },
          pt: { createPostTitle: 'Criar uma nova publicaÃ§Ã£o', postTitlePlaceholder: 'Digite o tÃ­tulo da publicaÃ§Ã£o...', postContentPlaceholder: 'No que vocÃª estÃ¡ pensando?', postAs: 'Publicar como:', submitPost: 'Publicar', editPost: 'Salvar alteraÃ§Ãµes', cancel: 'Cancelar', edit: 'Editar', delete: 'Excluir', report: 'Denunciar', comment: 'Comentar', addComment: 'Adicionar um comentÃ¡rio...', reactions: 'ReaÃ§Ãµes', reactWith: 'Reagir com', reactionNames: { like: 'Curtir', love: 'Amei', laugh: 'Haha', wow: 'Uau', sad: 'Triste', angry: 'Grr' }, comments: 'ComentÃ¡rios', reportModalTitle: 'Denunciar ConteÃºdo', reportModalMessage: 'Como membro desta comunidade efÃªmera, vocÃª tem a capacidade de moderar o conteÃºdo. VocÃª pode editÃ¡-lo para melhorÃ¡-lo ou excluÃ­-lo permanentemente.', reportEdit: 'Editar ConteÃºdo', reportDelete: 'Excluir ConteÃºdo', reportExit: 'NÃ£o Fazer Nada', termsOfUse: 'Termos de Uso', privacyPolicy: 'PolÃ­tica de Privacidade', footerText: 'Â© 2024 âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. Todo o conteÃºdo Ã© temporÃ¡rio e do lado do cliente.', entityDetection_suggestions_title: 'Entidades Detectadas', entityDetection_unconfirm: 'Clique para remover esta entidade.', entityDetection_view_source: 'Ver na Wikipedia', referenceNoticeShort: 'O conteÃºdo Ã© fornecido por terceiros e nÃ£o Ã© verificado ou endossado por esta plataforma.', termsContentTitle: 'Termos de Uso', termsContent: `<p>Bem-vindo ao âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ. Ao usar este site, vocÃª concorda com os seguintes termos:</p><ul><li><strong>Sem Dados Pessoais:</strong> NÃ£o pedimos, armazenamos ou processamos nenhum dado pessoal.</li><li><strong>Sem Contas de UsuÃ¡rio:</strong> NÃ£o hÃ¡ contas de usuÃ¡rio, logins ou perfis vinculados a identidades do mundo real.</li><li><strong>ConteÃºdo TemporÃ¡rio:</strong> Todas as publicaÃ§Ãµes, comentÃ¡rios e reaÃ§Ãµes sÃ£o armazenados apenas na memÃ³ria do seu navegador e sÃ£o excluÃ­dos permanentemente quando vocÃª atualiza ou fecha a pÃ¡gina.</li><li><strong>AutomoderaÃ§Ã£o:</strong> Todos os usuÃ¡rios tÃªm a capacidade de editar ou excluir qualquer conteÃºdo no site.</li></ul>`, privacyContentTitle: 'PolÃ­tica de Privacidade', privacyContent: `<p>Esta PolÃ­tica de Privacidade descreve como âŠ‚(âŒ’â€¿âŒ’)(^o^)ã£(ãƒ^o^)ãƒ lida com as informaÃ§Ãµes.</p><ul><li><strong>Coleta de Dados:</strong> NÃ£o coletamos nenhum dado. Nenhum.</li><li><strong>Armazenamento de Dados:</strong> Todo o conteÃºdo que vocÃª vÃª Ã© gerado e armazenado temporariamente na sessÃ£o ativa do seu navegador. NÃ£o Ã© enviado para nenhum servidor e Ã© perdido ao atualizar a pÃ¡gina.</li><li><strong>Sua Privacidade:</strong> O uso deste site Ã© completamente anÃ´nimo e efÃªmero por design.</li></ul>`, legalNotice: 'Esta Ã© uma demonstraÃ§Ã£o e nÃ£o um documento real com validade legal.', },
        };

        // --- from contexts/LanguageContext.tsx ---
        const LanguageContext = createContext(undefined);

        const LanguageProvider = ({ children }) => {
          const [language, setLanguage] = useState('en');

          const t = (key) => {
            return translations[language]?.[key] || translations.en[key];
          };

          return (
            <LanguageContext.Provider value={{ language, setLanguage, t }}>
              {children}
            </LanguageContext.Provider>
          );
        };

        // --- from hooks/useTranslations.ts ---
        const useTranslations = () => {
          const context = useContext(LanguageContext);
          if (!context) {
            throw new Error('useTranslations must be used within a LanguageProvider');
          }
          return context;
        };

        // --- from hooks/useDebounce.ts ---
        function useDebounce(value, delay) {
          const [debouncedValue, setDebouncedValue] = useState(value);

          useEffect(() => {
            const handler = setTimeout(() => {
              setDebouncedValue(value);
            }, delay);

            return () => {
              clearTimeout(handler);
            };
          }, [value, delay]);

          return debouncedValue;
        }

        // --- from hooks/useLocalEntityDetector.ts ---
        function useLocalEntityDetector(text) {
          const CAPITALIZED_WORD_REGEX = /\b([A-Z][a-z']+(?: [A-Z][a-z']+)*)\b/g;
          const COMMON_WORDS = new Set(['The', 'A', 'An', 'In', 'On', 'At', 'For', 'Is', 'Are', 'Was', 'Were', 'I']);
          const escapeRegExp = (string) => string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');

          return useMemo(() => {
            if (!text || text.trim().length < 2) {
              return [];
            }
            const suggestions = new Set();
            
            KNOWN_ENTITIES.forEach(entity => {
              const terms = [entity.name, ...entity.variants];
              const regex = new RegExp(`\\b(${terms.map(escapeRegExp).join('|')})\\b`, 'gi');
              const matches = text.match(regex);
              if (matches) {
                matches.forEach(match => suggestions.add(match));
              }
            });

            const capitalizedMatches = text.match(CAPITALIZED_WORD_REGEX);
            if (capitalizedMatches) {
              capitalizedMatches
                .filter(match => !COMMON_WORDS.has(match) && match.length > 2)
                .forEach(match => suggestions.add(match));
            }

            return Array.from(suggestions);
          }, [text]);
        }

        // --- from components/ ---
        const Modal = ({ title, onClose, children }) => {
          return (
            <div className="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4" onClick={onClose}>
              <div className="relative w-full max-w-md shadow-lg bg-white border-2 border-black rounded-3xl" onClick={e => e.stopPropagation()}>
                <div className="flex justify-between items-center p-4 border-b-2 border-black">
                  <h3 className="text-lg leading-6 font-medium text-black">{title}</h3>
                  <button onClick={onClose} className="text-black hover:text-gray-700">
                    <span className="text-2xl">&times;</span>
                  </button>
                </div>
                <div className="p-4">
                  {children}
                </div>
              </div>
            </div>
          );
        };
        
        const InteractiveContent = ({ content, entities, onEntitySelect, isTitle }) => {
          if (!entities || entities.length === 0) {
            return <>{content}</>;
          }
          
          const sortedEntities = [...entities].sort((a, b) => content.indexOf(a.text) - content.indexOf(b.text));
          
          let lastIndex = 0;
          const parts = [];
          const entityClass = isTitle ? 'confirmed-entity-title' : 'confirmed-entity';

          sortedEntities.forEach((entity, i) => {
            const index = content.indexOf(entity.text, lastIndex);
            if (index === -1) return;

            if (index > lastIndex) {
              parts.push(content.substring(lastIndex, index));
            }

            parts.push(
              <span key={`${entity.name}-${i}`} className={entityClass} onClick={() => onEntitySelect(entity)}>
                {entity.text}
              </span>
            );

            lastIndex = index + entity.text.length;
          });

          if (lastIndex < content.length) {
            parts.push(content.substring(lastIndex));
          }

          return <>{parts}</>;
        };
        
        const SuggestionList = ({ suggestions, confirmedEntities, onSuggestionClick, onUnconfirmClick }) => {
          const { t } = useTranslations();
          const confirmedTexts = new Set(confirmedEntities.map(e => e.text.toLowerCase()));
          const uniqueSuggestions = suggestions.filter(s => !confirmedTexts.has(s.toLowerCase()));
          const hasContent = confirmedEntities.length > 0 || uniqueSuggestions.length > 0;

          if (!hasContent) {
            return null;
          }
          
          return (
            <div className="border-t-2 border-black pt-3 mt-2">
              <h4 className="text-sm font-semibold text-black mb-2">{t('entityDetection_suggestions_title')}</h4>
              <div className="flex flex-wrap gap-2">
                {confirmedEntities.map(entity => (
                  <button key={entity.text} type="button" onClick={() => onUnconfirmClick(entity.text)} className="px-3 py-1 text-sm bg-white border-2 border-black text-black rounded-full flex items-center gap-2 hover:bg-gray-100 uppercase" title={t('entityDetection_unconfirm')}>
                    <span>{entity.text}</span>
                    <span className="font-bold">&times;</span>
                  </button>
                ))}
                {uniqueSuggestions.map(suggestion => (
                  <button key={suggestion} type="button" onClick={() => onSuggestionClick(suggestion)} className="px-3 py-1 text-sm bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                    {suggestion}
                  </button>
                ))}
              </div>
            </div>
          );
        };
        
        const EntitySuggestionModal = ({ term, onConfirm, onClose }) => {
          const { t } = useTranslations();
          const lowerCaseTerm = term.toLowerCase();

          const matchingEntities = useMemo(() => 
            KNOWN_ENTITIES.filter(ke => 
              ke.name.toLowerCase().includes(lowerCaseTerm) || 
              ke.variants.some(v => v.toLowerCase().includes(lowerCaseTerm))
            ),
            [lowerCaseTerm]
          );
          
          const handleGenericConfirm = () => {
            onConfirm({
              text: term,
              name: term,
              source: `https://en.wikipedia.org/w/index.php?search=${encodeURIComponent(term)}`
            });
          };

          return (
            <Modal title={`Confirm Entity: "${term}"`} onClose={onClose}>
              <div className="space-y-3">
                {matchingEntities.length > 0 ? (
                  <>
                    <p className="text-sm text-black">WE FOUND THE FOLLOWING KNOWN ENTITIES:</p>
                    {matchingEntities.map(entity => (
                      <button key={entity.name} onClick={() => onConfirm({ text: term, name: entity.name, source: entity.source || `https://en.wikipedia.org/w/index.php?search=${encodeURIComponent(entity.name)}` })} className="w-full text-left p-3 rounded-full hover:bg-gray-100 bg-white border-2 border-black text-black uppercase">
                        <p className="font-bold">{entity.name}</p>
                      </button>
                    ))}
                     <div className="border-t-2 pt-3 mt-3 border-black">
                        <p className="text-sm text-black mb-2">OR, CONFIRM IT AS A NEW ENTITY:</p>
                        <button onClick={handleGenericConfirm} className="w-full px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                          CONFIRM "{term}"
                        </button>
                      </div>
                  </>
                ) : (
                  <div>
                    <p className="text-sm text-black mb-4">NO SPECIFIC MATCH FOUND. YOU CAN CONFIRM "{term}" AND WE'LL LINK TO A GENERAL SEARCH FOR IT.</p>
                    <button onClick={handleGenericConfirm} className="w-full px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                      CONFIRM "{term}"
                    </button>
                  </div>
                )}
                <div className="pt-3">
                     <button onClick={onClose} className="w-full px-5 py-2 text-sm font-semibold text-gray-600 bg-transparent rounded-full hover:bg-gray-100 uppercase">
                        IGNORE RECOGNITION
                    </button>
                </div>
              </div>
            </Modal>
          );
        };
        
        const ProfileSelector = ({ selectedProfile, onChange }) => {
          const { t } = useTranslations();
          return (
            <div className="flex items-center space-x-2 w-full">
              <label htmlFor="profile-select" className="text-sm font-medium text-black whitespace-nowrap">{t('postAs')}</label>
              <select id="profile-select" value={selectedProfile} onChange={(e) => onChange(e.target.value)} className="block w-full pl-4 pr-10 py-2 text-base bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 sm:text-sm text-black transition-colors duration-300 input-border">
                {PROFILES.map(profile => (
                  <option key={profile} value={profile}>{profile}</option>
                ))}
              </select>
            </div>
          );
        };
        
        const CommentEditForm = ({ initialContent, initialEntities, onSubmit, onCancel }) => {
          const [content, setContent] = useState(initialContent);
          const [confirmedEntities, setConfirmedEntities] = useState(initialEntities);
          const { t } = useTranslations();
          const [termToConfirm, setTermToConfirm] = useState(null);
          const debouncedContent = useDebounce(content, 500);
          const localSuggestions = useLocalEntityDetector(debouncedContent);

          const handleSuggestionClick = (term) => setTermToConfirm(term);
          const handleUnconfirm = (text) => setConfirmedEntities(prev => prev.filter(e => e.text !== text));
          const handleConfirmEntity = (entity) => {
            if (!confirmedEntities.some(e => e.text.toLowerCase() === entity.text.toLowerCase())) {
                setConfirmedEntities(prev => [...prev, entity]);
            }
            setTermToConfirm(null);
          };
          
          const handleSubmit = (e) => {
            e.preventDefault();
            if (content.trim()) {
              onSubmit(content, confirmedEntities);
            }
          };

          return (
            <form onSubmit={handleSubmit} className="space-y-2">
              <div>
                <textarea value={content} onChange={(e) => setContent(e.target.value)} className="w-full px-4 py-2 text-black bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 input-border" rows={2} required autoFocus />
                <SuggestionList suggestions={localSuggestions} confirmedEntities={confirmedEntities} onSuggestionClick={handleSuggestionClick} onUnconfirmClick={handleUnconfirm} />
              </div>
              <div className="flex justify-end space-x-2 pt-2">
                <button type="button" onClick={onCancel} className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                  {t('cancel')}
                </button>
                <button type="submit" className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                  {t('editPost')}
                </button>
              </div>
              {termToConfirm && (
                <EntitySuggestionModal term={termToConfirm} onConfirm={handleConfirmEntity} onClose={() => setTermToConfirm(null)} />
              )}
            </form>
          );
        };
        
        const PostEditForm = ({ initialTitle, initialContent, initialEntities, onSubmit, onCancel }) => {
          const [title, setTitle] = useState(initialTitle);
          const [content, setContent] = useState(initialContent);
          const [confirmedEntities, setConfirmedEntities] = useState(initialEntities);
          const { t } = useTranslations();
          const [termToConfirm, setTermToConfirm] = useState(null);
          const debouncedContent = useDebounce(title + " " + content, 500);
          const localSuggestions = useLocalEntityDetector(debouncedContent);

          const handleSuggestionClick = (term) => setTermToConfirm(term);
          const handleUnconfirm = (text) => setConfirmedEntities(prev => prev.filter(e => e.text !== text));
          const handleConfirmEntity = (entity) => {
            if (!confirmedEntities.some(e => e.text.toLowerCase() === entity.text.toLowerCase())) {
                setConfirmedEntities(prev => [...prev, entity]);
            }
            setTermToConfirm(null);
          };
          
          const handleSubmit = (e) => {
            e.preventDefault();
            if (title.trim() && content.trim()) {
              onSubmit(title, content, confirmedEntities);
            }
          };

          return (
            <form onSubmit={handleSubmit} className="space-y-4">
               <input type="text" placeholder={t('postTitlePlaceholder')} value={title} onChange={(e) => setTitle(e.target.value)} className="w-full px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-black input-border" required autoFocus />
                <textarea placeholder={t('postContentPlaceholder')} value={content} onChange={(e) => setContent(e.target.value)} className="w-full px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-black input-border" rows={4} required />
              <SuggestionList suggestions={localSuggestions} confirmedEntities={confirmedEntities} onSuggestionClick={handleSuggestionClick} onUnconfirmClick={handleUnconfirm} />
              <div className="flex justify-end space-x-2 pt-2">
                <button type="button" onClick={onCancel} className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                  {t('cancel')}
                </button>
                <button type="submit" className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                  {t('editPost')}
                </button>
              </div>
              {termToConfirm && (
                <EntitySuggestionModal term={termToConfirm} onConfirm={handleConfirmEntity} onClose={() => setTermToConfirm(null)} />
              )}
            </form>
          );
        };
        
        const CommentForm = ({ postId, onAddComment, activeProfile, onProfileChange }) => {
          const [content, setContent] = useState('');
          const [confirmedEntities, setConfirmedEntities] = useState([]);
          const { t } = useTranslations();
          const [termToConfirm, setTermToConfirm] = useState(null);
          const debouncedContent = useDebounce(content, 500);
          const localSuggestions = useLocalEntityDetector(debouncedContent);

          const handleSuggestionClick = (term) => setTermToConfirm(term);
          const handleUnconfirm = (text) => setConfirmedEntities(prev => prev.filter(e => e.text !== text));
          const handleConfirmEntity = (entity) => {
            if (!confirmedEntities.some(e => e.text.toLowerCase() === entity.text.toLowerCase())) {
                setConfirmedEntities(prev => [...prev, entity]);
            }
            setTermToConfirm(null);
          };
          
          const handleSubmit = (e) => {
            e.preventDefault();
            if (content.trim()) {
              onAddComment(postId, content, confirmedEntities);
              setContent('');
              setConfirmedEntities([]);
            }
          };

          const handleCancel = () => {
            setContent('');
            setConfirmedEntities([]);
          }

          return (
            <form onSubmit={handleSubmit} className="space-y-2">
               <ProfileSelector selectedProfile={activeProfile} onChange={onProfileChange} />
               <div>
                <textarea placeholder={t('addComment')} value={content} onChange={(e) => setContent(e.target.value)} className="w-full px-4 py-2 text-black bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 input-border" rows={2} required />
                <SuggestionList suggestions={localSuggestions} confirmedEntities={confirmedEntities} onSuggestionClick={handleSuggestionClick} onUnconfirmClick={handleUnconfirm} />
               </div>
              <div className="flex justify-end space-x-2 pt-2">
                {content && (
                     <button type="button" onClick={handleCancel} className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">
                        {t('cancel')}
                    </button>
                )}
                <button type="submit" className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase disabled:bg-white disabled:text-black disabled:border-black disabled:opacity-50" disabled={!content.trim()}>
                  {t('comment')}
                </button>
              </div>
               {termToConfirm && (
                <EntitySuggestionModal term={termToConfirm} onConfirm={handleConfirmEntity} onClose={() => setTermToConfirm(null)} />
              )}
            </form>
          );
        };
        
        const CommentItem = (props) => {
          const { postId, comment, onEditComment, onDeleteComment, onAddReaction, onEntitySelect, onAddReplyToComment, activeProfile } = props;
          const [isEditing, setIsEditing] = useState(false);
          const [isReportModalOpen, setIsReportModalOpen] = useState(false);
          const [showReplyForm, setShowReplyForm] = useState(false);
          const [showReactions, setShowReactions] = useState(false);
          const { t, language } = useTranslations();

          const handleEditSubmit = (content, entities) => {
            onEditComment(postId, comment.id, content, entities);
            setIsEditing(false);
          };

          const timeAgo = (timestamp) => {
            const seconds = Math.floor((Date.now() - timestamp) / 1000);
            if (seconds > 86400 * 30) return `${Math.floor(seconds / (86400*30))}M AGO`;
            if (seconds > 86400) return `${Math.floor(seconds / 86400)}D AGO`;
            if (seconds > 3600) return `${Math.floor(seconds / 3600)}H AGO`;
            if (seconds > 60) return `${Math.floor(seconds / 60)}MIN AGO`;
            return "JUST NOW";
          }

          return (
            <div className="py-2">
              {isEditing ? (
                <CommentEditForm initialContent={comment.content} initialEntities={comment.entities} onSubmit={handleEditSubmit} onCancel={() => setIsEditing(false)} />
              ) : (
                <div>
                  <div className="flex items-center text-sm text-black">
                    <span className="select-none profile-badge">{comment.profile}</span>
                    <span className="mx-2">&middot;</span>
                    <span>{timeAgo(comment.timestamp)}</span>
                  </div>
                  <div className="text-black py-1">
                    <InteractiveContent content={comment.content} entities={comment.entities} onEntitySelect={onEntitySelect} />
                  </div>
                </div>
              )}
              {!isEditing && (
                <div className="mt-2 text-xs">
                    <div className="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2">
                        <button onClick={() => setShowReactions(s => !s)} className="hover:underline">{t('reactions')} ({comment.reactions.length})</button>
                        <div className="flex items-center text-black space-x-3">
                            <button onClick={() => setShowReplyForm(s => !s)} className="hover:underline">{t('comment')}</button>
                            <button onClick={() => setIsEditing(true)} className="hover:underline">{t('edit')}</button>
                            <button onClick={() => onDeleteComment(postId, comment.id)} className="hover:underline">{t('delete')}</button>
                            <button onClick={() => setIsReportModalOpen(true)} className="hover:underline">{t('report')}</button>
                        </div>
                    </div>
                    {showReactions && (
                        <div className="mt-2 flex items-center space-x-1 flex-wrap gap-1">
                            {REACTION_DEFINITIONS.map(reactionDef => {
                                const hasReacted = comment.reactions.some(r => r.profile === activeProfile && r.type === reactionDef.type);
                                const buttonClass = `p-1 rounded-full hover:bg-gray-100 text-sm bg-white hover:border hover:border-black ${hasReacted ? 'border border-black' : ''}`;
                                return (
                                    <button key={reactionDef.type} onClick={() => onAddReaction(comment.id, reactionDef.type)} className={buttonClass} title={translations[language].reactionNames[reactionDef.nameKey]} aria-label={`${t('reactWith')} ${translations[language].reactionNames[reactionDef.nameKey]}`}>
                                        <span className="profile-badge">{reactionDef.type}</span>
                                    </button>
                                );
                            })}
                        </div>
                    )}
                </div>
              )}
              {showReplyForm && (
                  <div className="pt-2">
                      <CommentForm postId={postId} onAddComment={(_postId, content, entities) => { onAddReplyToComment(postId, comment.id, content, entities); setShowReplyForm(false); }} activeProfile={props.activeProfile} onProfileChange={props.onProfileChange} />
                  </div>
              )}
              {comment.comments && comment.comments.length > 0 && (
                <div className="pl-4 border-l-2 border-gray-200 mt-2 space-y-2">
                  {comment.comments.map(reply => (
                      <CommentItem key={reply.id} postId={postId} comment={reply} activeProfile={props.activeProfile} onProfileChange={props.onProfileChange} onEditComment={onEditComment} onDeleteComment={onDeleteComment} onAddReaction={onAddReaction} onEntitySelect={onEntitySelect} onAddReplyToComment={onAddReplyToComment} />
                  ))}
                </div>
              )}
              {isReportModalOpen && (
                <Modal title={t('reportModalTitle')} onClose={() => setIsReportModalOpen(false)}>
                  <p className="text-sm text-black">{t('reportModalMessage')}</p>
                  <div className="mt-4 flex flex-col sm:flex-row justify-end gap-2">
                    <button onClick={() => { setIsReportModalOpen(false); setIsEditing(true); }} className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">{t('reportEdit')}</button>
                    <button onClick={() => { onDeleteComment(postId, comment.id); setIsReportModalOpen(false); }} className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">{t('reportDelete')}</button>
                    <button onClick={() => window.location.href = 'about:blank'} className="px-5 py-2 text-sm font-semibold bg-white border-2 border-black text-black rounded-full hover:bg-gray-100 uppercase">{t('reportExit')}</button>
                  </div>
                </Modal>
              )}
            </div>
          );
        };
        
        const PostItem = (props) => {
          const { post, onToggleComments, onAddReaction, onEditPost, activeProfile } = props;
          const [isEditing, setIsEditing] = useState(false);
          const [showReactions, setShowReactions] = useState(false);
          const { t, language } = useTranslations();

          const timeAgo = (timestamp) => {
            const seconds = Math.floor((Date.now() - timestamp) / 1000);
            if (seconds > 86400) return `${Math.floor(seconds / 86400)}D AGO`;
            if (seconds > 3600) return `${Math.floor(seconds / 3600)}H AGO`;
            if (seconds > 60) return `${Math.floor(seconds / 60)}M AGO`;
            return "JUST NOW";
          }

          const handleEditSubmit = (title, content, entities) => {
            onEditPost(post.id, title, content, entities);
            setIsEditing(false);
          };

          return (
            <article className="bg-white p-6 rounded-3xl">
               {isEditing ? (
                <PostEditForm initialTitle={post.title} initialContent={post.content} initialEntities={post.entities} onSubmit={handleEditSubmit} onCancel={() => setIsEditing(false)} />
               ) : (
                <>
                  <div className="flex justify-between items-start">
                    <div>
                      <div className="flex items-center text-sm text-black mb-2">
                        <span className="text-xl mr-2 select-none profile-badge">{post.profile}</span>
                        <span>&middot;</span>
                        <span className="ml-2">{timeAgo(post.timestamp)}</span>
                      </div>
                      <h3 className="text-xl font-bold text-green-700 mb-2">
                        <InteractiveContent content={post.title} entities={post.entities} onEntitySelect={props.onEntitySelect} isTitle />
                      </h3>
                    </div>
                    <button onClick={() => setIsEditing(true)} className="text-xs text-black hover:underline">{t('edit')}</button>
                  </div>
                  <div className="text-black whitespace-pre-wrap">
                    <InteractiveContent content={post.content} entities={post.entities} onEntitySelect={props.onEntitySelect} />
                  </div>
                  <div className="mt-4 pt-4 border-t border-transparent text-sm text-black">
                      <div className="flex justify-between items-center">
                          <button onClick={() => setShowReactions(s => !s)} className="hover:underline">{t('reactions')} ({post.reactions.length})</button>
                          <button onClick={() => onToggleComments(post.id)} className="hover:underline">
                            {post.comments.length} {t('comments')}
                          </button>
                      </div>
                      {showReactions && (
                          <div className="mt-2 flex items-center space-x-1 flex-wrap gap-1">
                              {REACTION_DEFINITIONS.map(reactionDef => {
                                  const hasReacted = post.reactions.some(r => r.profile === activeProfile && r.type === reactionDef.type);
                                  const buttonClass = `p-1 rounded-full hover:bg-gray-100 text-lg bg-white hover:border hover:border-black ${hasReacted ? 'border border-black' : ''}`;
                                  return (
                                      <button key={reactionDef.type} onClick={() => onAddReaction(post.id, reactionDef.type, 'post', post.id)} className={buttonClass} title={translations[language].reactionNames[reactionDef.nameKey]} aria-label={`${t('reactWith')} ${translations[language].reactionNames[reactionDef.nameKey]}`}>
                                          <span className="profile-badge">{reactionDef.type}</span>
                                      </button>
                                  );
                              })}
                          </div>
                      )}
                  </div>
                </>
              )}
              {post.showComments && (
                <div className="mt-4 space-y-4">
                  <div className="border-t-2 border-black pt-4">
                    <CommentForm postId={post.id} onAddComment={props.onAddComment} activeProfile={props.activeProfile} onProfileChange={props.onProfileChange} />
                  </div>
                  <div className="space-y-2">
                    {post.comments.map(comment => (
                      <div key={comment.id} className="border-t-2 border-black">
                        <CommentItem postId={post.id} comment={comment} activeProfile={props.activeProfile} onProfileChange={props.onProfileChange} onEditComment={props.onEditComment} onDeleteComment={props.onDeleteComment} onAddReaction={(commentId, type) => onAddReaction(commentId, type, 'comment', post.id)} onEntitySelect={props.onEntitySelect} onAddReplyToComment={props.onAddReplyToComment} />
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </article>
          );
        };
        
        const PostList = (props) => {
          return (
            <div className="space-y-6">
              {props.posts.map(post => (
                <PostItem key={post.id} post={post} {...props} />
              ))}
            </div>
          );
        };
        
        const Header = ({ onNavigate }) => {
          const { setLanguage, language } = useTranslations();
          return (
            <header className="bg-white sticky top-0 z-20">
              <div className="max-w-4xl mx-auto px-4">
                <div className="flex justify-end items-center py-4 space-x-4">
                  <select value={language} onChange={(e) => setLanguage(e.target.value)} className="bg-white text-black text-sm focus:ring-blue-500 focus:border-blue-500 block p-2 transition-colors duration-300 uppercase appearance-none" aria-label="Select language">
                    <option value="en">English</option>
                    <option value="es">EspaÃ±ol</option>
                    <option value="ja">æ—¥æœ¬èª</option>
                    <option value="zh">ä¸­æ–‡</option>
                    <option value="ko">í•œêµ­ì–´</option>
                    <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                    <option value="pt">PortuguÃªs</option>
                  </select>
                </div>
              </div>
            </header>
          );
        };

        const Footer = ({ onNavigate }) => {
          const { t } = useTranslations();
          return (
            <footer className="bg-white mt-12">
              <div className="max-w-4xl mx-auto py-8 px-4 text-center text-sm text-black">
                <div className="space-x-4 mb-4">
                  <button onClick={() => onNavigate('terms')} className="hover:underline">{t('termsOfUse')}</button>
                  <span>&middot;</span>
                  <button onClick={() => onNavigate('privacy')} className="hover:underline">{t('privacyPolicy')}</button>
                </div>
                <p>{t('footerText')}</p>
              </div>
            </footer>
          );
        };
        
        const LegalContent = ({ type }) => {
          const { t } = useTranslations();
          const titleKey = type === 'terms' ? 'termsContentTitle' : 'privacyContentTitle';
          const contentKey = type === 'terms' ? 'termsContent' : 'privacyContent';
          const title = t(titleKey);
          const content = t(contentKey);

          return (
            <div className="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
              <h2 className="text-3xl font-bold text-black mb-6">{title}</h2>
              <div className="prose text-black" dangerouslySetInnerHTML={{ __html: content }} />
              <div className="mt-8 p-4 bg-white text-black">
                <p className="font-bold">{t('legalNotice')}</p>
              </div>
            </div>
          );
        };

        const MainContent = (props) => {
          if (props.currentView !== 'main') {
            return <LegalContent type={props.currentView} />;
          }

          return (
            <div className="max-w-3xl mx-auto p-4 space-y-6">
              <PostList {...props} />
            </div>
          );
        };

        const ExternalInfoPanel = ({ entity, onClose, posts }) => {
          const { t } = useTranslations();
          const isOpen = !!entity;
          const [enlargedPost, setEnlargedPost] = useState(null);

          useEffect(() => {
            if (!isOpen) {
              setEnlargedPost(null);
            }
          }, [isOpen]);

          const relatedPosts = entity ? posts.filter(post => post.id !== 'welcome-post' && (post.entities.some(e => e.name === entity.name) || post.title.toLowerCase().includes(entity.text.toLowerCase()) || post.content.toLowerCase().includes(entity.text.toLowerCase()))) : [];

          return (
            <>
              <div className={`fixed inset-0 bg-black/30 z-30 transition-opacity ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`} onClick={onClose} />
              <aside className={`fixed top-0 right-0 h-full w-full max-w-[872px] bg-white shadow-xl transform transition-transform z-40 border-l border-black ${isOpen ? 'translate-x-0' : 'translate-x-full'}`}>
                {entity && (
                  <div className="relative flex flex-col h-full">
                    <header className="p-4 border-b-2 border-black flex justify-between items-center">
                        <div>
                            <h2 className="text-lg font-bold text-black">{entity.name}</h2>
                            <a href={entity.source} target="_blank" rel="noopener noreferrer" className="text-xs text-black hover:underline break-all">
                                {t('entityDetection_view_source')}
                            </a>
                        </div>
                      <button onClick={onClose} className="text-2xl text-black hover:text-gray-700">&times;</button>
                    </header>
                    <div className="flex-grow grid grid-cols-3 overflow-hidden">
                        <div className="col-span-1 border-r-2 border-black p-4 overflow-y-auto">
                            <h3 className="font-bold text-sm mb-2 uppercase">Mentioned In:</h3>
                            {relatedPosts.length > 0 ? (
                                <ul className="space-y-2">
                                {relatedPosts.map(post => (
                                    <li key={post.id} className="text-xs border border-black rounded-md p-2 cursor-pointer hover:bg-gray-100" onClick={() => setEnlargedPost(post)}>
                                        <p className="font-bold truncate text-green-600">{post.title}</p>
                                        <p className="truncate text-gray-600 normal-case">{post.content}</p>
                                    </li>
                                ))}
                                </ul>
                            ) : (
                                <p className="text-xs text-gray-500">No other posts mention this.</p>
                            )}
                        </div>
                        <div className="col-span-2 p-1 bg-white">
                            <iframe src={entity.source} title={entity.name} className="w-full h-full border-0" />
                        </div>
                    </div>
                    <footer className="p-3 bg-white text-xs text-black border-t-2 border-black">
                      {t('referenceNoticeShort')}
                    </footer>
                     {enlargedPost && (
                      <div className="absolute inset-0 bg-white/95 z-20 p-4 flex flex-col">
                        <div className="flex justify-between items-center border-b-2 border-black pb-2 mb-4">
                          <h3 className="font-bold text-lg">Post Preview</h3>
                          <button onClick={() => setEnlargedPost(null)} className="text-2xl text-black hover:text-gray-700">&times;</button>
                        </div>
                        <div className="flex-grow overflow-y-auto">
                          <h2 className="text-xl font-bold mb-2">{enlargedPost.title}</h2>
                          <div className="text-black whitespace-pre-wrap normal-case">
                            <InteractiveContent content={enlargedPost.content} entities={enlargedPost.entities} onEntitySelect={() => {}} />
                          </div>
                        </div>
                      </div>
                    )}
                  </div>
                )}
              </aside>
            </>
          );
        };
        
        const PostForm = ({ onAddPost, activeProfile, onProfileChange }) => {
          const [title, setTitle] = useState('');
          const [content, setContent] = useState('');
          const [confirmedEntities, setConfirmedEntities] = useState([]);
          const { t } = useTranslations();

          const [termToConfirm, setTermToConfirm] = useState(null);
          
          const debouncedContent = useDebounce(title + " " + content, 500);
          const localSuggestions = useLocalEntityDetector(debouncedContent);

          const handleSuggestionClick = (term) => setTermToConfirm(term);
          const handleUnconfirm = (text) => setConfirmedEntities(prev => prev.filter(e => e.text !== text));
          const handleConfirmEntity = (entity) => {
            if (!confirmedEntities.some(e => e.text.toLowerCase() === entity.text.toLowerCase())) {
                setConfirmedEntities(prev => [...prev, entity]);
            }
            setTermToConfirm(null);
          };

          const handleSubmit = (e) => {
            e.preventDefault();
            if (title.trim() && content.trim()) {
              onAddPost(title, content, confirmedEntities);
              setTitle('');
              setContent('');
              setConfirmedEntities([]);
            }
          };

          return (
            <div className="bg-white p-6">
              <form onSubmit={handleSubmit} className="space-y-4">
                <input type="text" placeholder={t('postTitlePlaceholder')} value={title} onChange={(e) => setTitle(e.target.value)} className="w-full px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-black transition-colors duration-300 input-border" required />
                <textarea placeholder={t('postContentPlaceholder')} value={content} onChange={(e) => setContent(e.target.value)} className="w-full px-4 py-2 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-black transition-colors duration-300 input-border" rows={4} required />
                <SuggestionList suggestions={localSuggestions} confirmedEntities={confirmedEntities} onSuggestionClick={handleSuggestionClick} onUnconfirmClick={handleUnconfirm} />
                <div className="flex flex-col sm:flex-row items-center justify-between gap-4 pt-2">
                  <ProfileSelector selectedProfile={activeProfile} onChange={onProfileChange} />
                  <button type="submit" className="w-full sm:w-auto px-6 py-2.5 text-sm font-semibold bg-white border-2 border-black text-black rounded-full uppercase hover:bg-gray-100 disabled:bg-white disabled:text-black disabled:border-black disabled:opacity-50 disabled:cursor-not-allowed" disabled={!title.trim() || !content.trim()}>
                    {t('submitPost')}
                  </button>
                </div>
              </form>
              {termToConfirm && (
                <EntitySuggestionModal term={termToConfirm} onConfirm={handleConfirmEntity} onClose={() => setTermToConfirm(null)} />
              )}
            </div>
          );
        };
        
        const DraggablePostForm = ({ onClose, onAddPost, activeProfile, onProfileChange }) => {
          const [position, setPosition] = useState({ x: window.innerWidth / 2 - 250, y: 100 });
          const [isDragging, setIsDragging] = useState(false);
          const dragRef = useRef(null);
          const offset = useRef({ x: 0, y: 0 });
          const { t } = useTranslations();

          const handleMouseDown = (e) => {
            if (dragRef.current) {
              const rect = dragRef.current.getBoundingClientRect();
              offset.current = {
                x: e.clientX - rect.left,
                y: e.clientY - rect.top,
              };
              setIsDragging(true);
              e.preventDefault();
            }
          };

          const handleMouseMove = (e) => {
            if (isDragging && dragRef.current) {
              const newX = e.clientX - offset.current.x;
              const newY = e.clientY - offset.current.y;
              const boundedX = Math.max(0, Math.min(newX, window.innerWidth - dragRef.current.offsetWidth));
              const boundedY = Math.max(0, Math.min(newY, window.innerHeight - dragRef.current.offsetHeight));
              setPosition({ x: boundedX, y: boundedY });
            }
          };

          const handleMouseUp = () => {
            setIsDragging(false);
          };

          useEffect(() => {
            if (isDragging) {
              window.addEventListener('mousemove', handleMouseMove);
              window.addEventListener('mouseup', handleMouseUp);
            }
            return () => {
              window.removeEventListener('mousemove', handleMouseMove);
              window.removeEventListener('mouseup', handleMouseUp);
            };
          }, [isDragging]);

          return (
            <div ref={dragRef} className="fixed z-50 bg-white border-2 border-black rounded-3xl shadow-lg w-full max-w-lg overflow-hidden" style={{ left: `${position.x}px`, top: `${position.y}px`, cursor: isDragging ? 'grabbing' : 'default' }}>
              <div className="p-2 border-b-2 border-black flex justify-between items-center" style={{ cursor: 'grab' }} onMouseDown={handleMouseDown}>
                <span className="font-bold text-black uppercase pl-4">{t('createPostTitle')}</span>
                <button onClick={onClose} className="text-2xl text-black hover:text-gray-700 mr-3">&times;</button>
              </div>
              <PostForm onAddPost={onAddPost} activeProfile={activeProfile} onProfileChange={onProfileChange} />
            </div>
          );
        };


        // --- from App.tsx ---
        const App = () => {
          const [activeProfile, setActiveProfile] = useState(PROFILES[0]);
          const [posts, setPosts] = useState([
            { id: 'welcome-post', profile: 'â—(áµ”áµ•áµ”)â—œ', title: 'Welcome to the website!', content: 'This is an ephemeral community where all content disappears on page refresh. Try mentioning "React" or "Elon Musk" in a comment!', timestamp: Date.now(), entities: [], comments: [], reactions: [], showComments: true, }
          ]);
          const [selectedEntity, setSelectedEntity] = useState(null);
          const [currentView, setCurrentView] = useState('main');
          const [isPostFormOpen, setIsPostFormOpen] = useState(false);
          
          const updateCommentRecursive = (comments, targetId, updateFn) => {
            let updated = false;
            const newComments = comments.map(comment => {
              if (updated) return comment;
              if (comment.id === targetId) {
                updated = true;
                return updateFn(comment);
              }
              if (comment.comments && comment.comments.length > 0) {
                const result = updateCommentRecursive(comment.comments, targetId, updateFn);
                if (result.updated) {
                  updated = true;
                  return { ...comment, comments: result.comments };
                }
              }
              return comment;
            });
            return { comments: newComments, updated };
          };

          const deleteCommentRecursive = (comments, idToDelete) => {
            return comments
              .filter(comment => comment.id !== idToDelete)
              .map(comment => {
                if (comment.comments && comment.comments.length > 0) {
                  return { ...comment, comments: deleteCommentRecursive(comment.comments, idToDelete) };
                }
                return comment;
              });
          };

          const addPost = useCallback((title, content, entities) => {
            const newPost = { id: Date.now().toString(), profile: activeProfile, title, content, timestamp: Date.now(), entities, comments: [], reactions: [], showComments: false };
            setPosts(prev => [newPost, ...prev]);
          }, [activeProfile]);

          const editPost = useCallback((postId, title, content, entities) => {
            setPosts(prev => prev.map(p => p.id === postId ? { ...p, title, content, entities, timestamp: Date.now() } : p));
          }, []);
          
          const addComment = useCallback((postId, content, entities) => {
            setPosts(prev => prev.map(p => {
              if (p.id === postId) {
                const newComment = { id: Date.now().toString(), profile: activeProfile, content, timestamp: Date.now(), entities, reactions: [] };
                return { ...p, comments: [...p.comments, newComment], showComments: true };
              }
              return p;
            }));
          }, [activeProfile]);

          const addReplyToComment = useCallback((postId, parentCommentId, content, entities) => {
            const newComment = { id: Date.now().toString(), profile: activeProfile, content, timestamp: Date.now(), entities, reactions: [], comments: [] };
             setPosts(prevPosts =>
              prevPosts.map(post => {
                if (post.id === postId) {
                  const { comments } = updateCommentRecursive(post.comments, parentCommentId, c => ({ ...c, comments: [...(c.comments || []), newComment]}));
                  return { ...post, comments, showComments: true };
                }
                return post;
              })
            );
          }, [activeProfile]);
          
          const editComment = useCallback((postId, commentId, content, entities) => {
              setPosts(prev => prev.map(p => {
                  if (p.id === postId) {
                      const { comments } = updateCommentRecursive(p.comments, commentId, c => ({ ...c, content, entities, timestamp: Date.now() }));
                      return { ...p, comments };
                  }
                  return p;
              }));
          }, []);

          const deleteComment = useCallback((postId, commentId) => {
              setPosts(prev => prev.map(p => p.id === postId ? { ...p, comments: deleteCommentRecursive(p.comments, commentId) } : p));
          }, []);

          const addReaction = useCallback((parentId, type, parentType, postId) => {
            setPosts(prevPosts => prevPosts.map(p => {
              if (parentType === 'post' && p.id === parentId) {
                const existingReaction = p.reactions.find(r => r.profile === activeProfile && r.type === type);
                const reactions = existingReaction ? p.reactions.filter(r => r.id !== existingReaction.id) : [...p.reactions, { id: Date.now().toString(), profile: activeProfile, type }];
                return { ...p, reactions };
              }
              if (parentType === 'comment' && p.id === postId) {
                const { comments } = updateCommentRecursive(p.comments, parentId, c => {
                    const existingReaction = c.reactions.find(r => r.profile === activeProfile && r.type === type);
                    const reactions = existingReaction ? c.reactions.filter(r => r.id !== existingReaction.id) : [...c.reactions, { id: Date.now().toString(), profile: activeProfile, type }];
                    return { ...c, reactions };
                });
                return { ...p, comments };
              }
              return p;
            }));
          }, [activeProfile]);

          const toggleComments = useCallback((postId) => {
            setPosts(prev => prev.map(p => p.id === postId ? { ...p, showComments: !p.showComments } : p));
          }, []);

          const handleAddPost = (title, content, entities) => {
            addPost(title, content, entities);
            setIsPostFormOpen(false);
          };

          return (
            <div className="relative min-h-screen">
               <div className="fixed top-0 font-bold text-black z-50 transform select-none pointer-events-none rotate-[20deg] translate-y-2 text-[2.5rem] left-1/2 -translate-x-1/2 sm:left-[14px] sm:text-[4rem] sm:translate-y-3 sm:-translate-x-1/3 md:text-[5rem] md:translate-y-4 md:-translate-x-1/4">
                <span className="block">â—(áµ”áµ•áµ”)â—œ</span>
              </div>
              <div className="relative z-10 flex flex-col min-h-screen">
                <Header onNavigate={setCurrentView} />
                <main className="flex-grow">
                  <MainContent posts={posts} activeProfile={activeProfile} onProfileChange={setActiveProfile} onEditPost={editPost} onAddComment={addComment} onAddReplyToComment={addReplyToComment} onEditComment={editComment} onDeleteComment={deleteComment} onAddReaction={addReaction} onToggleComments={toggleComments} onEntitySelect={setSelectedEntity} currentView={currentView} />
                </main>
                <Footer onNavigate={setCurrentView} />
              </div>
              <ExternalInfoPanel entity={selectedEntity} onClose={() => setSelectedEntity(null)} posts={posts} />
              {isPostFormOpen && (
                <DraggablePostForm onClose={() => setIsPostFormOpen(false)} onAddPost={handleAddPost} activeProfile={activeProfile} onProfileChange={setActiveProfile} />
              )}
              {!isPostFormOpen && (
                <button onClick={() => setIsPostFormOpen(true)} className="fixed bottom-[126px] left-1/2 -translate-x-1/2 bg-white text-black w-16 h-16 rounded-full shadow-lg flex items-center justify-center text-3xl font-bold z-40 border border-black hover:bg-gray-100 hover:border-2" aria-label="Create a new post">
                  +
                </button>
              )}
            </div>
          );
        };
        
        // --- from index.tsx ---
        const rootElement = document.getElementById('root');
        if (!rootElement) {
          throw new Error("Could not find root element to mount to");
        }

        const root = ReactDOM.createRoot(rootElement);
        root.render(
          <React.StrictMode>
            <LanguageProvider>
              <App />
            </LanguageProvider>
          </React.StrictMode>
        );

    </script>
</body>
</html>
